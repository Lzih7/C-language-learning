## 重映射区域
位于0x0000 0000 - 0x0007 FFFF
- 可以向Flash, System memory或SRAM
- 指向由BOOT引脚决定，一般指向Flash(0x0800 0000)
若CPU取第一个地址时重映射到0x0800 0000(读取Flash，**Flash存储用户代码**)，用户代码的前4字节储存**栈**的底部，为MSP指针，随着程序的执行，MSP指针会减小，栈顶往下降(栈底为0x2000 C000)

第二个4字节储存PC指针，储存**复位函数**的地址
## 重定位
- 用户代码里的`.rwdata`文件会拷贝到SRAM里的`.data`段(0x2000 0000)
- 执行重定位时，MSP指针会上下移动
## 堆栈
- 堆的地址在栈的下方
- malloc分配的地址储存在heap中，**从下到上**分配
- 栈顶和malloc撞击的时候，则产生栈溢出报错
-**栈、堆(.s)，(.bss),(.data)等文件都储存在SRAM里**

|区别|堆|栈|
|---|---|---|
|内容|动态分配的内存|调用函数产生的返回值、参数、局部变量|
|大小|较大|较小|
访问速度|慢|快|

## PSP从栈
在`.bss`段里分配了FreeRTOS的堆空间，FreeRTOS的每一个Task都要相应的栈和TCB，PSP就是每个栈的栈顶指针，处理OS的栈