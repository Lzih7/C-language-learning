# 软件SPI
## 简介
- 四根通信线：SCK,MOSI,MISO,SS；SS由多条
- 注：Serial(串行)，Slave(从机)
- 一主多从
- 推挽输出，浮空或上拉输入
## 触发条件
起始：SS从高到低
终止：SS从低到高
## 模式
1. 模式0：CPOL=0, CPHA=0(第一个边沿移入，第二个边沿移出)
2. 模式1：CPOL=0, CPHA=1(第一个边沿移出，第二个边沿移入)
3. 模式2：CPOL=1, CPHA=0(第一个边沿移入，第二个边沿移出)
4. 模式3：CPOL=1, CPHA=1(第一个边沿移出，第二个边沿移入)
## 读写
### 指令
1. 发送指令：0x06(写使能)
2. 写：0x02
3. 读：0x03
4. ...
- 指定地址读写
- 根据指令返回或发送特定的值
## W25Q64
- 非易失型存储器，容量为8MB，每一块为64KB，共128块
- 每一块内分为多个扇区，每个扇区4KB
1. 块：xx0000到xxFFFF
2. 扇区：xxx000到xxxFFF
3. 页：每个扇区分为16页，每页256Byte
数据位只能从1变0，所以写入前要先擦除