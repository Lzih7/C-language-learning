# 软件模拟I2C
## 简介
- I2C是一种通用数据总线，包含两条通信线
- SDA: 数据线
- SCL：时钟线
- 可实现数据应答
- 可挂载多个设备
## 输入输出
- 输出均采用**开漏输出模式**，SDA和SCL均添加上拉电阻
## 流程
### 始与终
- 开始时两条数据线均位于**高电平**
- SDA**先降后升**
### 传输数据
发送一个字节时，SCL低电平期间，*主*机将数据位依次放到SDA线上（**高位先行**），然后释放SCL，**从机将在SCL高电平期间读取数据位**，
所以SCL高电平期间SDA不允许有数据变化，依次循环上述过程8次，即可发送一个字节

接收一个字节：SCL低电平期间，*从*机将数据位依次放到SDA线上（**高位先行**），然后释放SCL，**主机将在SCL高电平期间读取数据位**，
所以SCL高电平期间SDA不允许有数据变化，依次循环上述过程8次，即可接收一个字节（主机在接收之前，需要释放SDA）
- 应答位 发送或接收完一个字节后发送0表示应答，1表示非应答（ACK）
### 写入读取操作
- 每一个设备都有固定的地址（7位），最后一位为0则表示**指定地址写**，为1则表示**读取**
- 指定地址写：设备地址->寄存器地址->再起始->设备地址->数据
#### 释放？
- 置于**高电平**
